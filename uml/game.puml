' Generated by UML Generator
' Encoded: pHbhRziuydj-XP1W0UNYLz9chp3sWggs70kHxS1IsxI7Wo5RjCqBBHaIbJRTtV--CoJrj9HDhobmGE6Id0VdFKFbRSozY2SxTXJVqs3lHTvEMp4lZWtE8xfCEB5MOU3GRqJh7MsfJxGLZLQC71q9B6qG1ckwqNu_qhIptu4Nfwi_jO_MT3ZxkFXe3TrnNwC1r_wb_RFNgyCPczRrsFqR9DToRRElEI1Hi06quskFUHjFQsjl_vim4fyd0NquBb7UsiOdSxwmffPh6VR2jaPcUich4g9pExTSS-4C3DjS3CsHyTu6STOiz13tedEvRaQt1hDfZdjUnPMwBSRlXpdIPQzJYpHw4icvDStXmfuPGsjwtTTOACpGgy6HUkUiVktLyt9Seu1r0LYzEhHtxstRT8kIrRCpf-Raqs9a3DpP_2dieGdoBPpnREOUY5erdyILdEUpzzDXKTvECwuvTOjiUvtpPjp1R6P3X4sLw0l3TOt1JP6uzntK4yjnB8pK0dcLthKcvkATRKrlq0MBYN5NYA03BrInhKAylJfmcVKP8lFcq-9wRWtJQB_i7UACPbDtSMSRy-iiALw_QK0hORswQC1opRiiYIzUbpDnva0EpgRAPf3HvjrYEdCTCwDedzTJsBF1pS8Tpqq867jOpBHrFS7K12FL4VIQAAHGjZa2OMx3c78Q1a2GBZlXMc-VOnYtP2gTFiLcBcjP0vytVy_citMz-6n0Xjiqvh-bn5V020-GIP7XXU3t2gl5QQjqrQzl1EXrxn0aYLut4rqs4bqs4qcbobeDPZRaH5f11Y4B8r0a85_aMh-ul6nfFVXN9ljWp2q3GgeGLtdXv-GhFsv6Ly6QupClsf0d2EuEABxMaAH5VspTzhKvYSCaMX63KIy6YjA-iwQCwCVnbkwFMzfnf61nDzv7bEF_0Ed01g5RplTnlzkDl2-T3UNRP9d4989soqd0EwjmrysxMrUsl6v4rd5tIpm_xkwyc9Ee-yGTftLQJCoXOJzFZHtnFLQlXm3zR4NoI-eqSMJMgMGfoNzrg538V1BfPa1sZ-xZddJ4-5AhsY_npzPBtL1M2kFHUQOomZjhaAFi73o9kpvPUmdZ7SxNHIMWVfnZDqASJa1urm-_150VVK7MNJvoiWoJO4KwO7QQx0JzQUV1YwWNS3sLu8FSO-xBsQzpaB0jDHLsolq1AiSpcOYahE4Ypf_Fvgw9ZmHKofLjVZ1jvxkYwPYH1y9-yS7CvotjekGB0HAkPW_iPmHJ-OBJep_JaVnTmXZXOYHlUy664TK7SHzlmn3OGC4JeMW6dF971BJH5f9IhqKInjeGxaYWVjhNCkep6b2E9yimPCGBy2ZP-nudki_xcXycIqO0_11I7s4-s41FznMv9rxWRKWanL-AerWvHI9SgIPYH97tACwlzDEA2eg9E3yJwZGebSi4Pv77Gw6OfTRfZGYFo2vy0FSpNQuag2nPaLrixlRyiMAK7xIJjunvvAsuVA5fefW9Gvt4UqBytCydwp3QUTYZdGeWNeKHv0rBY1Y-y8X3EUnhMMN48nQkxlCv1azeu9ElAKbRx5owGtlch26HKaOEhX7J9yjaCu8Wxsluc_b9OEcLgrjQ-UAMzf19sjAAEhQqMWtJ84LcCa9pfSvYmYsKMyzrATWQGpkp3TAcgiPMO8DKgKnbzq62KH23k649fywR9zBJngeHusNIIEZyZX2PGJiQnz0j1i0HwtsX52X8qOlYnOA3SliRtNpsDbPcAFNQBFWERj1_q5ijhLwwqsTOgw9kmY5bH-pnXvJcEFdnKjmN5Kxl-FzHUnBohQhpd7kh-ng59U1_qHUP_xYgjO9zbwQtp7jC-m6ZwwnkjKKfotPYLeopxKhTMD5SZGA7do6UgbLI0ZqjBZO8aHU8h72KZoP2dC9P6DnGncJP8_YhgbCXdyDW11KWtjhOsVKIO2mBGzvTXZ0Kl6npaTPsxbKEuNV1jF52DOyQssvCl-LU4FO27lecehwJGavVJZoGHCgtmZUaUbQAO0P75-9-oMXmFoJWkM8oGB0za5BzHgcenpuLiAGES96-Lt5Vp02fhehkeX0lfwJwkYdTS0yAW45nlHTns5SPWISOI9IaRXBnT5MQcqhZaCWWZArINHSVNzhh179sz7w8woskntAz8q7IroRmAwZXkG3lP1TUuNqDVmk7cTB0aqS9oKmfrT7BqpQao017tw_2NCP-htQ_YSdXgeIxysYWGwsAqtVwl_-Jsr1SFmNAB6iAtaLO-UZaq4CdJtZefDv3uYxfeC33k9Do2KCsJ5xD9RgvMzMvLwMX3U5D_EhusvP6AChqVPNvgTwKEsGL4J2Ol8i2YXNi4mxN4My7fXBdA4mT_YWATsEeNL1F8KE9NAQoFa4ib4TYK9m8qbn14TEAD1twL1cUWYNGVPb_y71KCWY2KuiZr2ZPfGgTbCrJ1PlIOtXSJCbouAHloSfVJQR6fFpj2d6FipGgaUeUlaChNt6W7dcCBJrisIbWe4w40wlfK2ohN8cp9B7iPrddAlNPiwAnSNzGbCuQYazs6LIPl9lZNvS05V-xZi9adxNoEW1-s4eVS1bYyK0O2lZBZ92H8neMij7bvvSK7-CcsF1j-X0G_aAygnShvEDKqpMy_BDwgUoPRWi6Ju-m4DRC8MEbsCi8XpLTIlT0OxfafAw0Ro1_9g6lP7C88oif8UMCr8Y8JDMhc_0FagzUvLyQP5Aa5vrbofyImdPRnU9HzZXgj_-uKfMYyeAeGiIGNJXKysYdanxWo8HNuCXmf7htFt0FNRkmLGcYJf10aXTGoWbJ061ZBcp7vQteph8bvMpb7gMKgIfJlDq-t2l1v45u8CPR4lZ9Zlq5
' URL: http://www.plantuml.com/plantuml/uml/pHbhRziuydj-XP1W0UNYLz9chp3sWggs70kHxS1IsxI7Wo5RjCqBBHaIbJRTtV--CoJrj9HDhobmGE6Id0VdFKFbRSozY2SxTXJVqs3lHTvEMp4lZWtE8xfCEB5MOU3GRqJh7MsfJxGLZLQC71q9B6qG1ckwqNu_qhIptu4Nfwi_jO_MT3ZxkFXe3TrnNwC1r_wb_RFNgyCPczRrsFqR9DToRRElEI1Hi06quskFUHjFQsjl_vim4fyd0NquBb7UsiOdSxwmffPh6VR2jaPcUich4g9pExTSS-4C3DjS3CsHyTu6STOiz13tedEvRaQt1hDfZdjUnPMwBSRlXpdIPQzJYpHw4icvDStXmfuPGsjwtTTOACpGgy6HUkUiVktLyt9Seu1r0LYzEhHtxstRT8kIrRCpf-Raqs9a3DpP_2dieGdoBPpnREOUY5erdyILdEUpzzDXKTvECwuvTOjiUvtpPjp1R6P3X4sLw0l3TOt1JP6uzntK4yjnB8pK0dcLthKcvkATRKrlq0MBYN5NYA03BrInhKAylJfmcVKP8lFcq-9wRWtJQB_i7UACPbDtSMSRy-iiALw_QK0hORswQC1opRiiYIzUbpDnva0EpgRAPf3HvjrYEdCTCwDedzTJsBF1pS8Tpqq867jOpBHrFS7K12FL4VIQAAHGjZa2OMx3c78Q1a2GBZlXMc-VOnYtP2gTFiLcBcjP0vytVy_citMz-6n0Xjiqvh-bn5V020-GIP7XXU3t2gl5QQjqrQzl1EXrxn0aYLut4rqs4bqs4qcbobeDPZRaH5f11Y4B8r0a85_aMh-ul6nfFVXN9ljWp2q3GgeGLtdXv-GhFsv6Ly6QupClsf0d2EuEABxMaAH5VspTzhKvYSCaMX63KIy6YjA-iwQCwCVnbkwFMzfnf61nDzv7bEF_0Ed01g5RplTnlzkDl2-T3UNRP9d4989soqd0EwjmrysxMrUsl6v4rd5tIpm_xkwyc9Ee-yGTftLQJCoXOJzFZHtnFLQlXm3zR4NoI-eqSMJMgMGfoNzrg538V1BfPa1sZ-xZddJ4-5AhsY_npzPBtL1M2kFHUQOomZjhaAFi73o9kpvPUmdZ7SxNHIMWVfnZDqASJa1urm-_150VVK7MNJvoiWoJO4KwO7QQx0JzQUV1YwWNS3sLu8FSO-xBsQzpaB0jDHLsolq1AiSpcOYahE4Ypf_Fvgw9ZmHKofLjVZ1jvxkYwPYH1y9-yS7CvotjekGB0HAkPW_iPmHJ-OBJep_JaVnTmXZXOYHlUy664TK7SHzlmn3OGC4JeMW6dF971BJH5f9IhqKInjeGxaYWVjhNCkep6b2E9yimPCGBy2ZP-nudki_xcXycIqO0_11I7s4-s41FznMv9rxWRKWanL-AerWvHI9SgIPYH97tACwlzDEA2eg9E3yJwZGebSi4Pv77Gw6OfTRfZGYFo2vy0FSpNQuag2nPaLrixlRyiMAK7xIJjunvvAsuVA5fefW9Gvt4UqBytCydwp3QUTYZdGeWNeKHv0rBY1Y-y8X3EUnhMMN48nQkxlCv1azeu9ElAKbRx5owGtlch26HKaOEhX7J9yjaCu8Wxsluc_b9OEcLgrjQ-UAMzf19sjAAEhQqMWtJ84LcCa9pfSvYmYsKMyzrATWQGpkp3TAcgiPMO8DKgKnbzq62KH23k649fywR9zBJngeHusNIIEZyZX2PGJiQnz0j1i0HwtsX52X8qOlYnOA3SliRtNpsDbPcAFNQBFWERj1_q5ijhLwwqsTOgw9kmY5bH-pnXvJcEFdnKjmN5Kxl-FzHUnBohQhpd7kh-ng59U1_qHUP_xYgjO9zbwQtp7jC-m6ZwwnkjKKfotPYLeopxKhTMD5SZGA7do6UgbLI0ZqjBZO8aHU8h72KZoP2dC9P6DnGncJP8_YhgbCXdyDW11KWtjhOsVKIO2mBGzvTXZ0Kl6npaTPsxbKEuNV1jF52DOyQssvCl-LU4FO27lecehwJGavVJZoGHCgtmZUaUbQAO0P75-9-oMXmFoJWkM8oGB0za5BzHgcenpuLiAGES96-Lt5Vp02fhehkeX0lfwJwkYdTS0yAW45nlHTns5SPWISOI9IaRXBnT5MQcqhZaCWWZArINHSVNzhh179sz7w8woskntAz8q7IroRmAwZXkG3lP1TUuNqDVmk7cTB0aqS9oKmfrT7BqpQao017tw_2NCP-htQ_YSdXgeIxysYWGwsAqtVwl_-Jsr1SFmNAB6iAtaLO-UZaq4CdJtZefDv3uYxfeC33k9Do2KCsJ5xD9RgvMzMvLwMX3U5D_EhusvP6AChqVPNvgTwKEsGL4J2Ol8i2YXNi4mxN4My7fXBdA4mT_YWATsEeNL1F8KE9NAQoFa4ib4TYK9m8qbn14TEAD1twL1cUWYNGVPb_y71KCWY2KuiZr2ZPfGgTbCrJ1PlIOtXSJCbouAHloSfVJQR6fFpj2d6FipGgaUeUlaChNt6W7dcCBJrisIbWe4w40wlfK2ohN8cp9B7iPrddAlNPiwAnSNzGbCuQYazs6LIPl9lZNvS05V-xZi9adxNoEW1-s4eVS1bYyK0O2lZBZ92H8neMij7bvvSK7-CcsF1j-X0G_aAygnShvEDKqpMy_BDwgUoPRWi6Ju-m4DRC8MEbsCi8XpLTIlT0OxfafAw0Ro1_9g6lP7C88oif8UMCr8Y8JDMhc_0FagzUvLyQP5Aa5vrbofyImdPRnU9HzZXgj_-uKfMYyeAeGiIGNJXKysYdanxWo8HNuCXmf7htFt0FNRkmLGcYJf10aXTGoWbJ061ZBcp7vQteph8bvMpb7gMKgIfJlDq-t2l1v45u8CPR4lZ9Zlq5
' Generated on: 2025-12-08T15:50:58.207777300

@startuml
skinparam classAttributeIconSize 0
hide circle

class Config {
  +{static} WINDOW_WIDTH: int = 700
  +{static} WINDOW_HEIGHT: int = 700
  +{static} WINDOW_TITLE: String = "Galaga - @jules1univ"
  +{static} PLAYER_INITIAL_LIFE: int = 3
  +{static} SPRITE_SCALE_DEFAULT: float = 2.5f
  +{static} SPRITE_SCALE_ICON: float = 1.5f
  +{static} HEIGHT_HUD: float = 50.f
  +{static} HEIGHT_FUD: float = 50.f
  +{static} SPEED_LOADING: long = 0
  +{static} SPEED_PLAYER: float = 600.f
  +{static} SPEED_STAR: float = 200.0f
  +{static} SPEED_BULLET: float = 500.f
  +{static} SPEED_ENEMY_FACTOR: float = 500.f
  +{static} DELAY_SHOOT_PLAYER: float = .5f
  +{static} DELAY_ENEMY_ROUND: float = 20.f
  +{static} DELAY_ENEMY_ENTER: float = 0.1f
  +{static} DELAY_ENEMY_COOLDOWN_FACTOR_ATTACK: float = 0.01f
  +{static} DELAY_ENEMY_COOLDOWN_FACTOR_MISSILE: float = 0.001f
  +{static} TIME_BLINKSTAR_MAX: float = 10.0f
  +{static} TIME_BLINKSTAR_MIN: float = 3.0f
  +{static} SIZE_SKY_GRID: int = 50
  +{static} SIZE_FONT_XLARGE: int = 48
  +{static} SIZE_FONT_LARGE: int = 32
  +{static} SIZE_FONT_TEXT: int = 24
  +{static} POSITION_ENEMY_INDEX_NOTSET: int = -1
  +{static} POSITION_LOCK_THRESHOLD: float = 1.f
  +{static} POSITION_NEAR_THRESHOLD: float = 10.f
  +{static} POSITION_ENEMY_LEFT: Position = Position.of(-100.f, 600.f)
  +{static} POSITION_ENEMY_RIGHT: Position = Position.of(800.f, 600.f)
  +{static} POSITION_ZIG_ZAG: List<Position> = List.of(Position.of(20.f, 350.f), Position.of(680.f, 400.f), Position.of(20.f, 450.f), Position.of(680.f, 500.f), Position.of(20.f, 550.f), Position.of(680.f, 600.f))
  +{static} COLOR_BULLET: Color = new Color(255, 0, 0)
  +{static} VARIANT_FONT_TEXT: String = "text"
  +{static} VARIANT_FONT_LARGE: String = "large"
  +{static} VARIANT_FONT_XLARGE: String = "xlarge"
  +{static} SPRITE_SHIP: ResourceAlias = ResourceAlias.file("ship", "resources/sprites/ship.spr", "https://raw.githubusercontent.com/jules1univ/Galaga/refs/heads/master/resources/sprites/ship.spr")
  +{static} SPRITE_MEDAL: ResourceAlias = ResourceAlias.file("medal", "resources/sprites/medal.spr", "https://raw.githubusercontent.com/jules1univ/Galaga/refs/heads/master/resources/sprites/medal.spr")
  +{static} SPRITES_ENEMY: List<ResourceAlias> = ResourceAlias.folder(EnemyType.class, "resources/sprites/%s.spr", "https://raw.githubusercontent.com/jules1univ/Galaga/refs/heads/master/resources/sprites/%s.spr")
  +{static} FONTS: List<ResourceAlias> = ResourceAlias.file("font", "resources/fonts/default.ttf", "https://st.1001fonts.net/download/font/bytebounce.medium.ttf").variant(ResourceVariant.of(Config.VARIANT_FONT_TEXT, Config.SIZE_FONT_TEXT), ResourceVariant.of(Config.VARIANT_FONT_LARGE, Config.SIZE_FONT_LARGE), ResourceVariant.of(Config.VARIANT_FONT_XLARGE, Config.SIZE_FONT_XLARGE))
  +{static} LEVELS: List<ResourceAlias> = ResourceAlias.folder("level%d", 1, 2, "resources/levels/%s.lvl", "https://raw.githubusercontent.com/jules1univ/Galaga/refs/heads/master/resources/levels/%s.lvl")
}

class Bullet {
  -angle: float
  -shooter: SpriteEntity
  --
  +Bullet(shooter: SpriteEntity)
  +getShooter(): Entity
  +init(): boolean
  +update(dt: double): void
  +draw(): void
}

class BulletManager {
  -bullets: List<Bullet> = new ArrayList<>()
  --
  +BulletManager()
  +shoot(shooter: SpriteEntity): void
  +iterator(): Iterator<Bullet>
  +removeAll(removeBullet: List<Bullet>): void
  +isEmpty(): boolean
  +init(): boolean
  +update(dt: double): void
  +draw(): void
}

abstract class Enemy {
  #speed: float
  #formationSpeed: float
  #scoreValue: int
  #type: EnemyType
  #lock: Position
  #index: int
  -indexTimer: float
  #state: EnemyState
  -debugFont: Font
  --
  +Enemy(type: EnemyType, lock: Position, value: int, speed: float, formationSpeed: float)
  +getType(): EnemyType
  +setIndex(index: int): void
  +getScoreValue(): int
  -isInLockPosition(): boolean
  -animateToLockPosition(dt: double): void
  #updateAction(dt: double): void
  +init(): boolean
  +update(dt: double): void
  +draw(): void
}

class EnemyBee {
  -missileCooldown: float
  -missileTimer: float = 0.f
  -zigZagIndex: int = 0
  --
  +EnemyBee(lock: Position, value: int, speed: float, formationSpeed: float, missileCooldown: float)
  #updateAction(dt: double): void
}

class EnemyButterFly {
  -missileCooldown: float
  -missileTimer: float = 0.f
  -target: Position
  --
  +EnemyButterFly(lock: Position, value: int, speed: float, formationSpeed: float, missileCooldown: float)
  #updateAction(dt: double): void
}

class EnemyMoth {
  -attackCooldown: float
  -attackTimer: float = 0.f
  -target: Position
  --
  +EnemyMoth(lock: Position, value: int, speed: float, formationSpeed: float, attackCooldown: float)
  #updateAction(dt: double): void
}

class Player {
  -life: int
  -score: int
  -medals: int
  -cooldownTimer: float = Config.DELAY_SHOOT_PLAYER
  -debugFont: Font
  --
  +Player()
  +getLife(): int
  +getScore(): int
  +getMedals(): int
  +onKillEnemy(enemy: Enemy): void
  +onFinishLevel(): void
  +onHit(): void
  +isDead(): boolean
  +init(): boolean
  +update(dt: double): void
  +draw(): void
}

class Sky {
  -stars: List<Star> = new ArrayList<>()
  -size: int
  --
  +Sky(gridSize: int)
  +init(): boolean
  +update(dt: double): void
  +draw(): void
}

class Star {
  -color: Color
  -time: float
  -blinkDelay: float
  -active: boolean
  -initialY: float
  --
  +Star(position: Position, size: float, color: Color)
  +init(): boolean
  +update(dt: double): void
  +draw(): void
}

class Galaga {
  -sky: Sky
  -player: Player
  -enemies: List<Enemy>
  -bullets: BulletManager
  -levelIndex: int = -1
  -fud: FUD
  -hud: HUD
  -menu: Menu
  -loadingText: Text
  -loading: boolean = true
  --
  +Galaga()
  +{static} getContext(): AppContext<State>
  +{static} main(args: String[]): void
  -loadNextLevel(): boolean
  -load(): boolean
  #init(): boolean
  #update(dt: double): void
  #draw(): void
}

class Level {
  -name: String
  -formationSpeed: float
  -attackCooldown: float
  -missileCooldown: float
  -enemies: List<Enemy> = new LinkedList<>()
  --
  -Level(name: String, formationSpeed: float, attackCooldown: float, missileCooldown: float)
  +{static} createLevel(in: InputStream): Level
  -{static} createLevelFromHeader(lineHeader: String): Level
  -{static} createEnemyFromLine(line: String, level: Level): Enemy
  +getName(): String
  +getFormationSpeed(): float
  +getAttackCooldown(): float
  +getMissileCooldown(): float
  +getEnemies(): List<Enemy>
}

class LevelResource {
  +{static} NAME: String = "level"
  --
  +LevelResource(alias: ResourceAlias, callback: ResourceCallback)
  +load(): boolean
}

class State {
  +bestScore: int
  +score: int
  +level: Level
  +player: Player
  +bullets: BulletManager
}

class FUD {
  -lifeIcons: IconGroup
  -medalIcons: IconGroup
  -ship: Sprite
  -medal: Sprite
  --
  +FUD()
  -createArrayIcon(sprite: Sprite, length: int): List<Icon>
  +init(): boolean
  +update(dt: double): void
  +draw(): void
}

class HUD {
  -fps: Text
  -score: Text
  -bestScore: Text
  -textFont: Font
  --
  +HUD()
  +init(): boolean
  +update(dt: double): void
  +draw(): void
}

class Menu {
  -visible: boolean = true
  -gameMode: TextSelect
  -titleFont: Font
  --
  +Menu()
  +setVisible(visible: boolean): void
  +isVisible(): boolean
  +init(): boolean
  +update(dt: double): void
  +draw(): void
}

BulletManager o-- Bullet
EnemyBee --|> Enemy
EnemyButterFly --|> Enemy
EnemyMoth --|> Enemy
Player ..> Enemy
Sky o-- Star
Galaga *-- Sky
Galaga *-- Player
Galaga o-- Enemy
Galaga *-- BulletManager
Galaga *-- FUD
Galaga *-- HUD
Galaga *-- Menu
Level o-- Enemy
Level ..> Level
State --> Level
State --> Player
State o-- BulletManager
@enduml